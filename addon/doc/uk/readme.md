# Посібник користувача: Розширений перекладач для NVDA

<h2 id="indice">Зміст</h2>

- [1 - Вступ](#introduccion)
  - [1.1 - Вимоги](#requisitos)
  - [1.2 - Обмеження й застереження](#limitaciones-y-advertencias)
  - [1.3 - Інформація від автора](#informacion-autor)
- [2 - Опис і конфігурація](#descripcion-configuracion)
  - [2.1 - Опис сервісів](#descripcion-servicios)
    - [Google](#google)
    - [DeepL](#deepl)
    - [LibreTranslate](#libretranslate)
    - [Microsoft Translate](#microsoft-translate)
  - [2.2 - Конфігурація](#configuracion)
    - [Меню додатка](#menu-del-complemento)
    - [Гарячі клавіші додатка](#teclas-rapidas-del-complemento)
- [3 - Вирішення проблем](#solucion-de-problemas)
  - [Поширені проблеми та шляхи їх вирішення](#problemas-comunes-y-soluciones)
  - [Як переглянути журнал NVDA](#como-consultar-el-log-de-nvda)
- [4 - Подяки](#agradecimientos)
  - [Перекладачі](#traductores)
- [5 - Журнал версій](#registro-de-versiones)
  - [Версія 1.0](#version-1-0)

<h2 id="introduccion">1 - Вступ</h2>

**Розширений перекладач для NVDA** — це додаток, який дозволяє перекладати тексти за допомогою різних онлайн-сервісів перекладу, таких як Перекладач Google, DeepL, LibreTranslate і Microsoft Translator. Цей додаток пропонує розширені функції, такі як синхронний переклад, історія перекладів, переклад вибраного, підтримка кількох мов тощо.

[Повернутися до змісту](#indice)

<h3 id="requisitos">1.1 - Вимоги</h3>

- NVDA (NonVisual Desktop Access) 2024.1 чи новіша
- З’єднання з інтернетом

[Повернутися до змісту](#indice)

<h3 id="limitaciones-y-advertencias">1.2 - Обмеження й застереження</h3>

Додаток надсилає інформацію в інтернет кожному відповідному сервісу для виконання синхронного перекладу. Важливо зазначити, що інформація, яка перекладається, може містити конфіденційні та секретні дані. Використання додатка є виключною відповідальністю користувача, який повинен оцінити характер інформації, що надсилається. Розробник додатка не несе жодної відповідальності за дані, що надсилаються до сервісів, які використовує додаток.

Як розробник, я знімаю з себе будь-яку відповідальність за будь-які випадки, які можуть виникнути внаслідок використання додатка. Вся відповідальність лежить на користувачеві.

Крім того, для роботи додатка потрібне з’єднання з інтернетом. Швидкість відгуку додатка залежить від низки факторів, таких як:
- Якість вашого інтернет-з’єднання.
- Можлива затримка використовуваних перекладацьких сервісів.
- Фактори, пов'язані з мережевою інфраструктурою користувача.

Рекомендується, щоб користувачі знали про ці аспекти й виконали потрібні тести, щоб переконатися, що додаток відповідає їхнім очікуванням і вимогам безпеки.

[Повернутися до змісту](#indice)

<h3 id="informacion-autor">1.3 - Інформація від автора</h3>

**Технічна інформація й заходи безпеки для додатка NVDA**

Я наполегливо працював над тим, щоб зробити додаток якомога надійнішим, а також над усуненням будь-яких потенційних помилок. Всі помилки фіксуються і записуються в журнал NVDA, що дозволяє легко відстежувати і швидко вирішувати проблеми.

**Проблеми з сертифікатами Windows**

Нещодавно я помітив, що на комп’ютерах зі щойно встановленою операційною системою Windows можуть виникати проблеми з сертифікатами, що може викликати розчарування. З цієї причини я включив перевірку під час запуску додатка. Якщо буде виявлено помилку, пов’язану з сертифікатами, додаток автоматично регенерує сертифікати, забезпечуючи належну роботу як Windows, так і самого додатка.

**Заходи безпеки**

Додаток включає в себе кілька заходів безпеки:
- Заборона запуску на захищених екранах.
- Він не запускається, якщо не виявлено з'єднання з інтернетом.

Іноді NVDA може запускатися швидше, ніж Wi-Fi з'єднання. У таких випадках NVDA потрібно буде перезапустити після встановлення з'єднання, щоб використовувати додаток належним чином.

**Керування ключами API**

Додаток генерує JSON-файл, який зберігає ключі API, необхідні для тих сервісів, які їх потребують. Цей файл, який називається `apis.json`, розміщується в папці користувача Windows.

**Міркування щодо файлу ключів**

Було вирішено зберігати цей файл за межами середовища додатка, оскільки він містить конфіденційну інформацію й може бути ненавмисно переданий переносній копії NVDA або в інших ситуаціях. Якщо користувач вирішить припинити використання додатка, цей файл необхідно видалити вручну.

Ці заходи забезпечують краще керування й безпеку додатка, що робить його простішим у використанні та обслуговуванні.

[Повернутися до змісту](#indice)

<h2 id="descripcion-configuracion">2 - Опис і конфігурація</h2>

<h3 id="descripcion-servicios">2.1 - Опис сервісів</h3>

У своїй першій версії додаток пропонує 7 перекладацьких сервісів:

<h4 id="google">Google</h4>

**4 сервіси від Google**

- **2 Сервіси вебскребінгу:** Кожен сервіс виконує ту саму функцію, але в різний спосіб, що гарантує наявність альтернативи на випадок відмови одного з них.
- **2 сервіси API:** Ці сервіси також необмежені та безкоштовні, але зловживання ними може призвести до тимчасового блокування IP-адреси на кілька годин, після чого роботу сервісу буде відновлено.
- Всі ці сервіси Google не вимагають ключів API, є необмеженими та безкоштовними.

<h4 id="deepl">DeepL</h4>

**2 сервіси від DeepL**

- **API Free:** Для цього варіанту потрібен ключ API Free, отриманий на веб-сайті DeepL, який пропонує 500 000 символів на місяць.
- **API Pro:** Для цього варіанту також потрібен ключ API, отриманий на сайті DeepL. Його використання залежить від балансу й тарифного плану, придбаного в обліковому записі користувача на сайті DeepL.
- Умови й положення використання API DeepL можна знайти на його [сайті](https://www.deepl.com/uk/pro/change-plan#developer), і додаток обмежується цими умовами й положеннями.

<h4 id="libretranslate">LibreTranslate</h4>

**1 сервіс від LibreTranslate**

- Цей сервіс постійно вдосконалюється завдяки безперервному нейронному навчанню. Хоча наразі він не такий хороший, як Google, але цілком придатний для використання.
- Заснований на технології Argos Translate.
- Для використання цього сервісу потрібен ключ API, який можна отримати, зробивши пожертву спільноті [NVDA.es](https://nvda.es/donaciones/).
  - Після пожертвування ключ API можна попросити за допомогою форми на цій [сторінці](https://nvda.es/contacto/), вказавши в темі листа «API key request» і надавши реквізити PayPal, банківського переказу тощо.
- Також можна налаштувати інші сервіси LibreTranslate, додавши API-ключ і змінивши URL-адресу сервісу в розділі конфігурації доповнення.

<h4 id="microsoft-translate">Microsoft Translate</h4>

**1 сервіс від Microsoft Translate**

- Цей сервіс має обмеження, яке полягає в тому, що тривале використання може призвести до тимчасового блокування IP на кілька хвилин.
- Таке блокування відбувається лише під час дуже інтенсивного використання й під час перекладу довгих текстів.
- Сервіс працює дуже добре, але рекомендується не використовувати його безперервно, щоб уникнути переривань.

Ці варіанти дозволяють користувачам вибирати між кількома перекладацькими сервісами, забезпечуючи доступність і гнучкість додатка відповідно до індивідуальних потреб і вподобань.

У міру оновлення додатка сервіси можуть додаватися або видалятися. Про зміни буде повідомлено в розділі оновлень.

[Повернутися до змісту](#indice)

<h3 id="configuracion">2.2 - Конфігурація</h3>

**Конфігурація додатка**

У цьому розділі детально описано, як налаштувати кожен із сервісів, доступних у додатку, зокрема, як додати ключі API, змінити URL-адреси сервісів та інші параметри, потрібні для того, щоб пристосувати використання додатка до потреб користувача.

<h4 id="menu-del-complemento">Меню додатка</h4>

У NVDA > Параметри > Розширений перекладач ми маємо меню, яке містить такі пункти:

- **Налаштування розширеного перекладача**.

  Натискання на цей пункт відкриє вікно конфігурації додатка. Це вікно має 2 області:

  - **Загальні**.

    На цій вкладці будуть додані загальні параметри, які стосуються додатка. Наразі тут є лише прапорець для ввімкнення або вимкнення кешу додатка.

    Додаток може кешувати переклади для кожної програми, що полегшить і пришвидшить переклад у майбутньому. Крім того, тепер він створює кеш для кожної мови, тож більше ніж одна програма може мати кеш для різних мов.

  - **Модулі перекладу**

    На цій вкладці ви можете вибрати сервіс, який хочете використовувати для перекладу. Для тих сервісів, які потребують ключ API, також буде показано менеджер ключів API.

    Ви можете мати кілька ключів API для одного і того ж сервісу; наприклад, у LibreTranslate ви можете мати різні ключі та URL-адреси для підключення. Ви можете додавати, редагувати, видаляти і встановлювати як початковий потрібний вам ключ API для поточного сервісу.

    Область керування ключами API змінюється залежно від сервісу, який ви використовуєте. Ви можете дати ідентифікаційне ім’я кожному ключу API, щоб швидко дізнатися, на який API ви переходите. Якщо у вас є більш ніж один ключ API для сервісу, елемент із зірочкою у списку буде використовуватися як початковий. Це можна змінити, натиснувши на кнопку «Встановити початковим», і ключ, на якому ви сфокусовані, буде тим, який визначено для цього сервісу.

    Якщо сервіс перекладу, який ви обрали, не вимагає ключа API, менеджер не показуватиметься.

    Далі розташовані кнопки «Гаразд» і «Скасувати». Для кожного параметра є своя комбінація клавіш, яку назве NVDA.

- **Документація додатка**

  Якщо ви натиснете на «Документацію додатка», відкриється ця документація.

- **Пожертвувати, якщо вам подобається додаток**

  Якщо ви натиснете на цей параметр, відкриється сторінка PayPal, де є посилання з написом «Надіслати». Якщо ви натиснете на це посилання, він попросить нас увійти у ваш обліковий запис і переспрямує вас на сторінку пожертвування.

  Скажу лише, що я випив багато кави, створюючи цей додаток.

[Повернутися до змісту](#indice)

<h4 id="teclas-rapidas-del-complemento">Швидкі клавіші додатка</h4>

У розділі NVDA > Параметри > Жести вводу... > Розширений перекладач ви можете налаштувати такі клавіші.

Початково клавіші не призначені, щоб користувач міг вибрати найкращу розкладку. Йдеться про такі команди:

- **Відкрити налаштування додатка**

  Ця команда дозволяє швидко відкрити налаштування додатка.

- *Увімкнути або вимкнути кеш перекладу**

  Ця команда дозволяє увімкнути або вимкнути кеш без потреби входити в налаштування.

- **Увімкнути або вимкнути переклад у реальному часі**

  Ця команда вмикає або вимикає переклад. Це основна команда, яка починає перекладати, коли ви рухаєтеся за допомогою клавіш зі стрілками. Якщо все зроблено правильно, ви почуєте переклад; якщо ж ви почуєте оригінальний текст, вам доведеться зазирнути до журналу NVDA і подивитися, що сталося.

- **Змінити модуль перекладу**

  Ця команда відкриє вікно з усіма доступними сервісами перекладу. Ви зможете переміщатися у списку з сервісами за допомогою стрілок і вибирати сервіс клавішею Enter. Вибраний сервіс буде вважатися стандартним.

- **Змінити мову перекладу**

  Цей доступ відкриє вікно з мовами перекладу, доступними в обраному сервісі. Кожна служба має різні мови, і, наприклад, якщо ви перекладаєте текст українською мовою і хочете почути його англійською, в цьому діалозі вам потрібно буде вибрати англійську. Переміщайтеся в діалозі за допомогою стрілок і натисніть для вибору потрібної мови клавішу Enter.

  Назви мов отримуються мовою NVDA. З цієї причини у списку можуть бути назви мов англійською мовою, оскільки NVDA не має їх перекладу. До кожної назви мови додається її код ISO.

- **Змінити мову оригіналу**

  Те саме, що й вище, але цей діалог дійсний лише для перекладача Microsoft. Сервіс Microsoft не дозволяє встановити мову оригіналу автоматично, щоб визначати, якою мовою йому надсилається повідомлення, тому вам доведеться вибрати її самостійно.

  У решті сервісів ви не зможете скористатися цим діалогом, оскільки в них початково встановлено параметр визначення мови оригіналу.

- **Скопіювати останній перекладений текст у буфер обміну**

  Ця команда копіює останній перекладений текст до буфера обміну.

- **Видалити кеш перекладу для програми у фокусі**

  Якщо натиснути цю команду один раз, додаток надасть вам інформацію; якщо натиснути двічі швидко, додаток очистить кеш для програми у фокусі й повідомить про результат.

- **Видалити всі кешовані переклади для всіх програм**

  Якщо натиснути цю команду один раз, додаток надасть інформацію; якщо натиснути двічі швидко, додаток очистить весь кеш і також надасть інформацію.

- **Показати історію перекладів**

  Покаже діалогове вікно з останніми 500 перекладами у вигляді списку. Ви зможете шукати й переглядати у вікнах, доступних лише для читання, текст оригіналу й текст перекладу. Цей діалог дозволить вам шукати у всій історії, копіювати в буфер обміну або текст оригіналу, або текст перекладу, або і те, й інше.

  Ця команда також дозволяє перемикатися між оригінальним і перекладеним текстом і працювати з будь-яким з них. Крім того, ви можете видалити всю історію, щоб почати з початку.

  Зверніть увагу, що історія очищується при кожному перезапуску NVDA.

- **Перекласти виділений текст**

  Ця дія перекладе текст, який ви виділили і на якому сфокусувалися. Якщо це великий текст, відкриється діалог з відсотком перекладу. Цей діалог можна закрити, що також призведе до скасування перекладу.

  Після завершення перекладу текст буде показано в діалозі, щоб ви могли його дослідити.

  Цей параметр використовує сервіс «Перекладач Google» й не може бути зміненим, його обрано внутрішньо, оскільки він дає найкращі результати для довгих текстів.

[Повернутися до змісту](#indice)

<h2 id="solucion-de-problemas">3 - Вирішення проблем</h2>

<h3 id="problemas-comunes-y-soluciones">Поширені проблеми та шляхи їх вирішення</h3>

**З’єднання з інтернетом**
- Переконайтеся, що ваше інтернет-з'єднання активне і працює належним чином.
- За потреби перезавантажте роутер або модем.

**Помилка сертифіката**
- Якщо у вас виникають помилки з сертифікатами, переконайтеся, що дата і час у вашій системі правильні.
- Переконайтеся, що необхідні сертифікати встановлені та оновлені.

**Проблеми з продуктивністю**
- Переконайтеся, що ваш комп'ютер відповідає мінімальним системним вимогам.
- Закрийте інші програми, які можуть споживати багато ресурсів.

[Повернутися до змісту](#indice)

<h3 id="como-consultar-el-log-de-nvda">Як переглянути журнал NVDA</h3>

1. Запустіть NVDA.
2. Перейдіть в меню `NVDA > Інструменти > Переглянути журнал роботи`.
3. У вікні журналу знайдіть будь-які помилки або повідомлення, пов'язані з розширеним перекладачем.

[Повернутися до змісту](#indice)

<h2 id="agradecimientos">4 - Подяки</h2>

Дякую всім програмістам NVDA за їхню чудову роботу.

І я не хочу забути сказати, що початком цього доповнення є додаток Translate від Yannick PLASSIARD, з якого я дізнався і використовував деякі функції.

Також Олексію Садовому aka Lex, ruslan, beqa, Mesar Hameed, Alberto Buffolino та іншим учасникам NVDA за додаток Instant Translate, з якого був отриманий один з методів для Google і модифікований для реалізації його в «Розширеному перекладачі».

Цей додаток є результатом кількох років неофіційних випусків і вивчення використання офлайн-перекладів.

Результатом цього додатка є навчання, знаючи, що воно принесе дивовижні нові можливості в майбутньому.

[Повернутися до змісту](#indice)

<h3 id="traductores">Перекладачі</h3>

- **Ім'я учасника 1:** Опис внеску.

[Повернутися до змісту](#indice)

<h2 id="registro-de-versiones">5 - Журнал версій</h2>

У цьому розділі буде додано журнал версій, куди будуть додаватися нові функції кожної версії.

Посібник базується на першій версії, тому вона не буде оновлюватися і слугуватиме базовою.

Нові функції будуть додаватися в цьому розділі.

[Повернутися до змісту](#indice)

<h3 id="version-1-0">Версія 2024.06.06</h3>

- Перший випуск додатка.
- Підтримка 7 сервісів перекладу.
- Базові функції синхронного перекладу та керування ключами API.

[Повернутися до змісту](#indice)